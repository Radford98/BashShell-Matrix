#Brad Powell
#CS344_400 Spring 2019
#Program 1 - Matrix

#!/bin/bash

# Accepts a single matrix from stdin or as a parameter and reports the dimensions in "rows columns"
dims() {

datafilepath="datafile$$"
if [ "$#" = "0" ]
then
	cat > "$datafilepath"
elif [ "$#" = "1" ]
then
	datafilepath=$1
fi

# Use wc to count the lines/rows, pipe that into read to remove the " [file_name]",
# using a subshell to echo the reply.
# COLS is first set to the number of words in the matrix, then divided by the number of rows
# to get the number of columns.
ROWS=`wc -l $datafilepath | (read -d " "; echo $REPLY)`
COLS=`wc -w $datafilepath | (read -d " "; echo $REPLY)`
(( COLS = COLS / ROWS ))
echo "$ROWS $COLS"

# Delete the temporary data file if necessary
if [ "$#" = "0" ]
then
	rm -f $datafilepath
fi

}

#
#additional functions go here
#

$1 "${@:2}"

